{"remainingRequest":"D:\\CodingForFun\\Vue\\gaosen\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\CodingForFun\\Vue\\gaosen\\docs\\.vuepress\\components\\prize.vue?vue&type=style&index=0&id=0aac911a&scoped=true&lang=scss&","dependencies":[{"path":"D:\\CodingForFun\\Vue\\gaosen\\docs\\.vuepress\\components\\prize.vue","mtime":1653319045762},{"path":"D:\\CodingForFun\\Vue\\gaosen\\node_modules\\css-loader\\dist\\cjs.js","mtime":1648514419984},{"path":"D:\\CodingForFun\\Vue\\gaosen\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1648514420974},{"path":"D:\\CodingForFun\\Vue\\gaosen\\node_modules\\postcss-loader\\src\\index.js","mtime":1648514420186},{"path":"D:\\CodingForFun\\Vue\\gaosen\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1648533350822},{"path":"D:\\CodingForFun\\Vue\\gaosen\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648514419946},{"path":"D:\\CodingForFun\\Vue\\gaosen\\node_modules\\vue-loader\\lib\\index.js","mtime":1648514420515}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouYnggew0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQogIC5hZG1pbiB7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDsNCiAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICB0b3A6IC0xMHB4Ow0KICAgIGxlZnQ6IDUwcHg7DQogICAgei1pbmRleDogMjsNCiAgICA+IGJ1dHRvbiB7DQogICAgICBkaXNwbGF5OiBibG9jazsNCiAgICAgIHBhZGRpbmc6IDEwcHg7DQogICAgICBiYWNrZ3JvdW5kOiBub25lOw0KICAgICAgYm9yZGVyOiAxcHggc29saWQgcGFsZXZpb2xldHJlZDsNCiAgICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsNCiAgICAgIG1hcmdpbi1yaWdodDogNXB4Ow0KICAgICAgY29sb3I6IHZhcigtLXRleHQtY29sb3IpOw0KICAgICAgPiBpIHsNCiAgICAgICAgbWFyZ2luLXJpZ2h0OiA1cHg7DQogICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LWNvbG9yKTsNCiAgICAgIH0NCiAgICB9DQogICAgPiBidXR0b246aG92ZXIgew0KICAgICAgYmFja2dyb3VuZC1jb2xvcjogcGFsZXZpb2xldHJlZDsNCiAgICAgIGNvbG9yOiB3aGl0ZTsNCiAgICB9DQogICAgLm51bWJlcnMgew0KICAgICAgb3BhY2l0eTogMDsNCiAgICB9DQogIH0NCiAgLmJ0bi1ib3ggew0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7DQogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICBtYXJnaW4tdG9wOiAyMHB4Ow0KICAgIHdpZHRoOiAzMDBweDsNCiAgICAuYnRuIHsNCiAgICAgIGRpc3BsYXk6IGJsb2NrOw0KICAgICAgcGFkZGluZzogMTBweDsNCiAgICAgIGJhY2tncm91bmQ6IG5vbmU7DQogICAgICBib3JkZXI6IDFweCBzb2xpZCBwYWxldmlvbGV0cmVkOw0KICAgICAgY3Vyc29yOiBwb2ludGVyOw0KICAgICAgYm9yZGVyLXJhZGl1czogNXB4Ow0KICAgICAgY29sb3I6IHZhcigtLXRleHQtY29sb3IpOw0KICAgIH0NCiAgICAuYnRuOmhvdmVyIHsNCiAgICAgIGJhY2tncm91bmQtY29sb3I6IHBhbGV2aW9sZXRyZWQ7DQogICAgICBjb2xvcjogd2hpdGU7DQogICAgfQ0KICB9DQogIC5jaGVhdEJ4IHsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47DQogICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7DQogICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgIHRvcDogMTAwcHg7DQogICAgLmNoZWF0QnRuIHsNCiAgICAgIGJvcmRlcjogbm9uZTsNCiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQogICAgICBwYWRkaW5nOiAxM3B4IDEwcHg7DQogICAgICBjb2xvcjogd2hpdGU7DQogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWE2YWE2Ow0KICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsNCiAgICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7DQogICAgICBtYXJnaW4tYm90dG9tOiA1cHg7DQogICAgfQ0KICAgIC5pbnB1dC1ib3ggew0KICAgICAgb3BhY2l0eTogMDsNCiAgICAgIHotaW5kZXg6IC0xOw0KICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzFhNmFhNjsNCiAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47DQogICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgYm9yZGVyLXJhZGl1czogOHB4Ow0KICAgICAgcGFkZGluZzogMCAwIDAgMTVweDsNCiAgICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgICBoZWlnaHQ6IDVjaDsNCg0KICAgICAgaTo6YmVmb3JlIHsNCiAgICAgICAgZm9udC1zaXplOiAxLjVjaDsNCiAgICAgICAgY29sb3I6IHdoaXRlOw0KICAgICAgfQ0KDQogICAgICBpbnB1dCB7DQogICAgICAgIGJvcmRlcjogbm9uZTsNCiAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgICAgICAgYmFja2dyb3VuZDogbm9uZTsNCiAgICAgICAgY29sb3I6IHdoaXRlOw0KICAgICAgICBvdXRsaW5lOiBub25lOw0KICAgICAgICBtYXJnaW4tbGVmdDogNXB4Ow0KICAgICAgICBwYWRkaW5nOiA1cHg7DQogICAgICB9DQoNCiAgICAgIGlucHV0OjpwbGFjZWhvbGRlciB7DQogICAgICAgIGNvbG9yOiB3aGl0ZTsNCiAgICAgIH0NCg0KICAgICAgZGl2IHsNCiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2UwZTFlMjsNCiAgICAgICAgY3Vyc29yOiBwb2ludGVyOw0KICAgICAgICBjb2xvcjogIzVhNWE1YTsNCiAgICAgICAgaGVpZ2h0OiAxMDAlOw0KICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICBwYWRkaW5nOiA1cHggMTBweDsNCiAgICAgICAgd2lkdGg6IDIwJTsNCiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDsNCiAgICAgIH0NCg0KICAgICAgZGl2OmhvdmVyIHsNCiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2NhY2JjZDsNCiAgICAgIH0NCiAgICB9DQogIH0NCn0NCiAgLm1zZywgLnVzZXJOdW0gew0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICB0b3A6IDQ1cHg7DQogICAgbGVmdDogNTBweDsNCiAgICB6LWluZGV4OiAyOw0KICAgIG9wYWNpdHk6IDA7DQogICAgLypkaXNwbGF5OiBub25lOyovDQogICAgZm9udC1zaXplOiAyMHB4Ow0KICAgIGZvbnQtd2VpZ2h0OiA2MDA7DQogICAgY29sb3I6IGdyZXk7DQogIH0NCiAgLnVzZXJOdW0gew0KICAgIC8qb3BhY2l0eTogMTsqLw0KICAgIHRvcDogLTQ1cHg7DQogIH0NCiAgLm1zZyBpLCAudXNlck51bSBpIHsNCiAgICBtYXJnaW4tcmlnaHQ6IDVweDsNCiAgfQ0KDQo="},{"version":3,"sources":["prize.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"prize.vue","sourceRoot":"docs/.vuepress/components","sourcesContent":["<template>\r\n  <div class=\"bx\">\r\n    <div class=\"admin\">\r\n      <button class=\"lottery\" @click=\"getAdminNumbers\"><i class=\"iconfont reco-suggestion\"></i>开奖</button>\r\n      <div class=\"numbers\">\r\n        开奖号码是：<span style=\"font-weight: 600;font-size: 20px\">{{adminNumbers.join('-')}}</span>\r\n        <br>\r\n        以及特殊号码：<span style=\"font-weight: 600;font-size: 20px\">{{specialNumber}}</span>\r\n      </div>\r\n    </div>\r\n    <div class=\"msg\"><i class=\"iconfont reco-tongzhi\"></i>{{msg}}</div>\r\n    <div class=\"cheatBx\">\r\n      <button @click=\"showInput\"\r\n          class=\"cheatBtn\"><i style=\"color: white\"\r\n          class=\"iconfont reco-other\"></i>不响丸辣，我要作弊！</button>\r\n      <div class=\"input-box\">\r\n        <i class=\"iconfont reco-douyin\"></i>\r\n        <input type=\"text\" placeholder=\"输入你想抽到的数字,以“-”分隔\"\r\n               @keyup.enter=\"cheat\"\r\n               v-model=\"userInput\">\r\n        <div @click=\"cheat\">确定</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"userNum\"><i class=\"iconfont reco-suggestion\"></i>现在你拥有的数字是：\r\n      {{userNumbers.join('-')}}</div>\r\n    <div style=\"padding-top: 180px\">\r\n      <LuckyGrid\r\n          ref=\"myLucky\"\r\n          rows=\"5\"\r\n          cols=\"6\"\r\n          :width=\"prizeWidth\"\r\n          :height=\"prizeHeight\"\r\n          :prizes=\"prizes\"\r\n          :blocks=\"blocks\"\r\n          :default-config=\"defaultConfig\"\r\n          :active-style=\"activeStyle\"\r\n          @start=\"startCallback\"\r\n          @end=\"endCallback\"\r\n      />\r\n    </div>\r\n    <div class=\"btn-box\">\r\n      <button @click=\"singleClick\" class=\"btn\">\r\n        <i class=\"iconfont reco-three\"></i>\r\n        单抽\r\n      </button>\r\n      <button @click=\"seriesDraw\" class=\"btn\">\r\n        <i class=\"iconfont reco-up\"></i>\r\n        五连抽\r\n      </button>\r\n      <button @click=\"getMyPrize\" class=\"btn\">\r\n        <i class=\"iconfont reco-search\"></i>\r\n        兑奖\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport VueLuckyCanvas from '@lucky-canvas/vue'\r\nimport Vue from 'vue'\r\nVue.use(VueLuckyCanvas)\r\n\r\nconst prizeImg = {\r\n  src: 'https://cdn.jsdelivr.net/gh/buuing/cdn/demo/prize.png',\r\n  width: '50%',\r\n  top: '25%'\r\n}\r\nconst cellImg = {\r\n  src: 'https://cdn.jsdelivr.net/gh/buuing/cdn/demo/cell-80.png',\r\n  width: '100%',\r\n  height: '100%'\r\n}\r\nconst btnImg = {\r\n  src: '/img/btn.png',\r\n  height: '80%',\r\n  width: '80%',\r\n  top: '10%'\r\n}\r\nconst bg = {\r\n  src: '/img/prizeBg.png',\r\n  height: '100%',\r\n  // width: '100%',\r\n}\r\nexport default {\r\n  name: \"prize\",\r\n  data () {\r\n    return {\r\n      msg: '',\r\n      isShowMsg: false,\r\n      prizeWidth: '500',\r\n      prizeHeight: '500',\r\n      blocks: [\r\n        { padding: '50px', background: '#869cfa', imgs: [bg] },\r\n        { padding: '10px', background: '#e9e8fe' },\r\n      ],\r\n      prizes: [\r\n        { x: 0, y: 0, imgs: [cellImg], fonts: [{text: '1', top: '35%',fontWeight: '600'}] },\r\n        { x: 1, y: 0, imgs: [cellImg], fonts: [{text: '2', top: '35%',fontWeight: '600'}] },\r\n        { x: 2, y: 0, imgs: [cellImg], fonts: [{text: '3', top: '35%',fontWeight: '600'}] },\r\n        { x: 3, y: 0, imgs: [cellImg], fonts: [{text: '4', top: '35%',fontWeight: '600'}] },\r\n        { x: 4, y: 0, imgs: [cellImg], fonts: [{text: '5', top: '35%',fontWeight: '600'}] },\r\n        { x: 5, y: 0, imgs: [cellImg], fonts: [{text: '6', top: '35%',fontWeight: '600'}] },\r\n\r\n        { x: 0, y: 1, imgs: [cellImg], fonts: [{text: '7', top: '35%',fontWeight: '600'}] },\r\n        { x: 1, y: 1, imgs: [cellImg], fonts: [{text: '8', top: '35%',fontWeight: '600'}] },\r\n        { x: 2, y: 1, imgs: [cellImg], fonts: [{text: '9', top: '35%',fontWeight: '600'}] },\r\n        { x: 3, y: 1, imgs: [cellImg], fonts: [{text: '10', top: '35%',fontWeight: '600'}] },\r\n        { x: 4, y: 1, imgs: [cellImg], fonts: [{text: '11', top: '35%',fontWeight: '600'}] },\r\n        { x: 5, y: 1, imgs: [cellImg], fonts: [{text: '12', top: '35%',fontWeight: '600'}] },\r\n\r\n        { x: 0, y: 2, imgs: [cellImg], fonts: [{text: '13', top: '35%',fontWeight: '600'}] },\r\n        { x: 1, y: 2, imgs: [cellImg], fonts: [{text: '14', top: '35%',fontWeight: '600'}] },\r\n        { x: 2, y: 2, imgs: [cellImg], fonts: [{text: '15', top: '35%',fontWeight: '600'}] },\r\n        { x: 3, y: 2, imgs: [cellImg], fonts: [{text: '16', top: '35%',fontWeight: '600'}] },\r\n        { x: 4, y: 2, imgs: [cellImg], fonts: [{text: '17', top: '35%',fontWeight: '600'}] },\r\n        { x: 5, y: 2, imgs: [cellImg], fonts: [{text: '18', top: '35%',fontWeight: '600'}] },\r\n\r\n        // { x: 0, y: 3, imgs: [cellImg, prizeImg] },\r\n        { x: 1, y: 3, imgs: [cellImg], fonts: [{text: '19', top: '35%',fontWeight: '600'}] },\r\n        { x: 2, y: 3, imgs: [cellImg], fonts: [{text: '20', top: '35%',fontWeight: '600'}] },\r\n        { x: 3, y: 3, imgs: [cellImg], fonts: [{text: '21', top: '35%',fontWeight: '600'}] },\r\n        { x: 4, y: 3, imgs: [cellImg], fonts: [{text: '22', top: '35%',fontWeight: '600'}] },\r\n        // { x: 5, y: 3, imgs: [cellImg, prizeImg] },\r\n\r\n        // { x: 0, y: 4, imgs: [cellImg, prizeImg] },\r\n        // { x: 1, y: 4, imgs: [cellImg, prizeImg] },\r\n        // { x: 2, y: 4, imgs: [cellImg, prizeImg] },\r\n        // { x: 3, y: 4, imgs: [cellImg, prizeImg] },\r\n        // { x: 4, y: 4, imgs: [cellImg, prizeImg] },\r\n        // { x: 5, y: 4, imgs: [cellImg, prizeImg] }\r\n\r\n      ],\r\n      // buttons: [{\r\n      //   x: 3, y: 4,\r\n      //   col: 1,row:1,\r\n      //   background: '#7f95d1',\r\n      //   fonts: [{ text: '', top: '25%' }],\r\n      //   imgs: [btnImg]\r\n      // }],\r\n      defaultConfig: {speed: 30,accelerationTime: 500,decelerationTime:1000},\r\n      activeStyle: {\r\n        fontColor: '#e9e8fe',\r\n        fontSize: '26px'\r\n      },\r\n      userNumbers: [],\r\n      btnClickNum: 0,\r\n      confirmRes: false,\r\n      adminNumbers: [],\r\n      specialNumber: 0,\r\n      grade: 0,\r\n      userInput: '',\r\n      isShowInput: false,\r\n    }\r\n  },\r\n  watch: {\r\n    userNumbers(newVal) {\r\n      if(newVal.length >= 5) {\r\n        this.userNumbers.forEach((item,index,arr) => {\r\n          arr[index] ++\r\n        })\r\n        setTimeout(() => {\r\n          $('.userNum').animate({opacity: '1'})\r\n        }, 1500)\r\n      }\r\n      else\r\n        setTimeout(() => {\r\n          $('.userNum').animate({opacity: '0'})\r\n        }, 1500)\r\n    },\r\n    adminNumbers(newVal) {\r\n      // console.log(newVal);\r\n      setTimeout(() => {\r\n        $('.admin .numbers').animate({opacity: '1'})\r\n      }, 500)\r\n\r\n    }\r\n  },\r\n  methods: {\r\n    // 点击抽奖按钮会触发star回调\r\n    startCallback () {\r\n      // 调用抽奖组件的play方法开始游戏\r\n      this.$refs.myLucky.play()\r\n      // 模拟调用接口异步抽奖\r\n      setTimeout(() => {\r\n        // 假设后端返回的中奖索引是0\r\n        let haveSameNum = true\r\n        let prizeIndex//奖品的索引\r\n        let i = 0\r\n        while (1) {\r\n          prizeIndex = Math.floor(Math.random() * 21 + 1) //得到1~22之间的一个随机数，不保证不重复\r\n          // console.log(prizeIndex);\r\n          haveSameNum = this.checkHaveSame(this.userNumbers,prizeIndex)\r\n          if(haveSameNum === false) {\r\n            this.userNumbers.push(prizeIndex)\r\n            break\r\n          }\r\n        }\r\n        // 调用stop停止旋转并传递中奖索引\r\n        this.$refs.myLucky.stop(prizeIndex)\r\n      }, 1000)\r\n    },\r\n    // 抽奖结束会触发end回调\r\n    endCallback (prize) {\r\n      this.msg = '你抽到了数字：' + prize.fonts[0].text\r\n      this.showMsg()\r\n    },\r\n    singleClick() {\r\n      this.btnClickNum ++\r\n      if(this.btnClickNum === 1) {\r\n        if(this.userNumbers.length >= 5) {\r\n          //用户号码数有5个，即此时是选择重开与否\r\n          this.confirmRes = confirm('你已经抽到了5个数，确定重开吗')\r\n          if(this.confirmRes) {\r\n            //若用户选择了重开\r\n            this.userNumbers = []//用户号码数'清零'\r\n            //用户号码数提示框隐藏\r\n            this.startCallback()\r\n            this.confirmRes = false //恢复默认值\r\n          }\r\n        }\r\n        else if(this.userNumbers.length >= 0) {\r\n          //初始情况，直接单抽\r\n          this.startCallback()\r\n        }\r\n        setTimeout(() => {\r\n          this.btnClickNum = 0\r\n        },2000)\r\n      }\r\n    },\r\n    seriesDraw() {\r\n      this.btnClickNum ++\r\n      if (this.btnClickNum === 1) {\r\n        setTimeout(() => {\r\n          this.btnClickNum = 0\r\n        },2000)\r\n        if(this.userNumbers.length >= 5) {\r\n          //当用户号码数有5个\r\n          this.confirmRes = confirm('你已经抽到了5个数，确定重开吗')\r\n          if (this.confirmRes) {\r\n            //若用户选择重开\r\n            this.userNumbers = []//用户号码数'清零'\r\n            //用户号码数提示框隐藏\r\n            $('.userNum').animate({\r\n              opacity: '0'\r\n            })\r\n            for (let i = 0; i <= 4; i++) {\r\n              setTimeout(() => {\r\n                this.startCallback()\r\n              }, i * 3000)\r\n            }\r\n            this.confirmRes = false//恢复默认值\r\n          }\r\n        }\r\n        else if(this.userNumbers.length >= 1) {\r\n          //已经单抽过了\r\n          this.msg = '你已经单抽了，不能五连抽'\r\n          this.showMsg()\r\n        }\r\n        else if (this.userNumbers.length >= 0) {\r\n          //初始情况,可直接进行五连抽\r\n          for (let i = 0; i <= 4; i++) {\r\n            setTimeout(() => {\r\n              this.startCallback()\r\n            }, i * 3000)\r\n          }\r\n        }\r\n      }\r\n    },\r\n    getAdminNumbers() {\r\n      this.btnClickNum ++\r\n      if(this.btnClickNum === 1) {\r\n        //防止按键短时间内被点击使函数执行多次\r\n        setTimeout(() => {this.btnClickNum = 0},2000)\r\n        if(this.adminNumbers.length >= 5) {\r\n          this.confirmRes = confirm('你已开奖，确定重新开奖？')\r\n          if(this.confirmRes) {\r\n            this.confirmRes = false //恢复默认值\r\n            let num = Math.floor(Math.random() * 21 + 1)\r\n            this.adminNumbers = []\r\n            this.adminNumbers.push(num)\r\n            let haveSameNum\r\n            while (this.adminNumbers.length < 5) {\r\n              let adminIndex = Math.floor(Math.random() * 21 + 1)\r\n              haveSameNum = this.checkHaveSame(this.adminNumbers,adminIndex)\r\n              if(haveSameNum === false) {\r\n                this.adminNumbers.push(adminIndex)\r\n              }\r\n            }\r\n            this.specialNumber = Math.floor(Math.random() * 21 + 1)//特殊号码数\r\n          }\r\n        }\r\n        else if(this.adminNumbers.length === 0) {\r\n          //初始情况，直接开奖\r\n          let num = Math.floor(Math.random() * 21 + 1)\r\n          this.adminNumbers = []\r\n          this.adminNumbers.push(num)\r\n          let haveSameNum\r\n          while (this.adminNumbers.length < 5) {\r\n            let adminIndex = Math.floor(Math.random() * 21 + 1)\r\n            haveSameNum = this.checkHaveSame(this.adminNumbers,adminIndex)\r\n            if(haveSameNum === false) {\r\n              this.adminNumbers.push(adminIndex)\r\n            }\r\n          }\r\n          this.specialNumber = Math.floor(Math.random() * 21 + 1)//特殊号码数\r\n        }\r\n      }\r\n    },\r\n    getMyPrize() {\r\n      if(this.userNumbers.length >=5 && this.adminNumbers.length >=5 ) {\r\n        let judgeSum = this.compareArray(this.userNumbers, this.adminNumbers)\r\n        let judgeSpecial = false\r\n        for(let i in this.userNumbers) {\r\n          if(this.userNumbers[i] === this.specialNumber) {\r\n            judgeSpecial = true\r\n            break\r\n          }\r\n        }\r\n        if(judgeSum < 2) this.grade = 0\r\n        else if(judgeSum === 2) this.grade = 1//五等奖\r\n        else if(judgeSum === 3) this.grade = 2//四等奖\r\n        else if(judgeSum === 4) {\r\n          if(!judgeSpecial)\r\n            this.grade = 3 //三等奖\r\n          else this.grade = 4 //二等奖\r\n        }\r\n        else if(judgeSum === 5) {\r\n          if(!judgeSpecial) this.grade = 5//一等奖\r\n          else this.grade = 6//特等奖\r\n        }\r\n        alert('获奖等级：' + this.switchGradeToStr(this.grade))\r\n      }\r\n    },\r\n    compareArray(arr1, arr2) {\r\n      /*比较两个数组，返回相同元素的个数*/\r\n      let sum = 0\r\n      for(let i in arr1) {\r\n        for(let j in arr2) {\r\n          if(arr1[i].toString() === arr2[j].toString()) {\r\n            sum ++\r\n          }\r\n        }\r\n      }\r\n      return sum\r\n    },\r\n    checkHaveSame(array,compareNum) {\r\n      for(let i in array) {\r\n        if(array[i] === compareNum) {\r\n          return true\r\n        }\r\n      }\r\n      return false\r\n    },\r\n    switchGradeToStr(grade) {\r\n      let str\r\n      switch (grade) {\r\n        case 0: str = '没有获奖';break\r\n        case 1: str = '五等奖';break\r\n        case 2: str = '四等奖';break\r\n        case 3: str = '三等奖';break\r\n        case 4: str = '二等奖';break\r\n        case 5: str = '一等奖';break\r\n        case 6: str = '特等奖';break\r\n        default: str = '出了什么错误？'\r\n      }\r\n      return str\r\n    },\r\n    showMsg() {\r\n      $('.msg').animate({\r\n        opacity: '1'\r\n      })\r\n      this.isShowMsg = true\r\n      setTimeout(() => {\r\n        $('.msg').animate({\r\n          opacity: '0'\r\n        })\r\n      },1500)\r\n    },\r\n    showInput() {\r\n      if(!this.isShowInput) {\r\n        $('.input-box').animate({opacity: '1',zIndex: '1'})\r\n        this.isShowInput = true\r\n      }\r\n      else {\r\n        $('.input-box').animate({opacity: '0',zIndex: '-1'})\r\n        this.isShowInput = false\r\n      }\r\n\r\n    },\r\n    cheat() {\r\n      this.userNumbers = []\r\n      this.userNumbers = this.userInput.split('-')\r\n      this.userNumbers.forEach((item,index,arr) => {\r\n        arr[index] = parseInt(item) - 1\r\n      })\r\n    }\r\n  },\r\n\r\n}\r\n\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.bx {\r\n  position: relative;\r\n  .admin {\r\n    display: flex;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    position: absolute;\r\n    top: -10px;\r\n    left: 50px;\r\n    z-index: 2;\r\n    > button {\r\n      display: block;\r\n      padding: 10px;\r\n      background: none;\r\n      border: 1px solid palevioletred;\r\n      cursor: pointer;\r\n      border-radius: 5px;\r\n      margin-right: 5px;\r\n      color: var(--text-color);\r\n      > i {\r\n        margin-right: 5px;\r\n        color: var(--text-color);\r\n      }\r\n    }\r\n    > button:hover {\r\n      background-color: palevioletred;\r\n      color: white;\r\n    }\r\n    .numbers {\r\n      opacity: 0;\r\n    }\r\n  }\r\n  .btn-box {\r\n    display: flex;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    margin-top: 20px;\r\n    width: 300px;\r\n    .btn {\r\n      display: block;\r\n      padding: 10px;\r\n      background: none;\r\n      border: 1px solid palevioletred;\r\n      cursor: pointer;\r\n      border-radius: 5px;\r\n      color: var(--text-color);\r\n    }\r\n    .btn:hover {\r\n      background-color: palevioletred;\r\n      color: white;\r\n    }\r\n  }\r\n  .cheatBx {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    position: absolute;\r\n    top: 100px;\r\n    .cheatBtn {\r\n      border: none;\r\n      box-sizing: border-box;\r\n      padding: 13px 10px;\r\n      color: white;\r\n      background-color: #1a6aa6;\r\n      border-radius: 10px;\r\n      cursor: pointer;\r\n      font-weight: 600;\r\n      margin-bottom: 5px;\r\n    }\r\n    .input-box {\r\n      opacity: 0;\r\n      z-index: -1;\r\n      background-color: #1a6aa6;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      border-radius: 8px;\r\n      padding: 0 0 0 15px;\r\n      overflow: hidden;\r\n      height: 5ch;\r\n\r\n      i::before {\r\n        font-size: 1.5ch;\r\n        color: white;\r\n      }\r\n\r\n      input {\r\n        border: none;\r\n        box-sizing: border-box;\r\n        background: none;\r\n        color: white;\r\n        outline: none;\r\n        margin-left: 5px;\r\n        padding: 5px;\r\n      }\r\n\r\n      input::placeholder {\r\n        color: white;\r\n      }\r\n\r\n      div {\r\n        background-color: #e0e1e2;\r\n        cursor: pointer;\r\n        color: #5a5a5a;\r\n        height: 100%;\r\n        display: flex;\r\n        align-items: center;\r\n        padding: 5px 10px;\r\n        width: 20%;\r\n        font-weight: 600;\r\n      }\r\n\r\n      div:hover {\r\n        background-color: #cacbcd;\r\n      }\r\n    }\r\n  }\r\n}\r\n  .msg, .userNum {\r\n    position: absolute;\r\n    top: 45px;\r\n    left: 50px;\r\n    z-index: 2;\r\n    opacity: 0;\r\n    /*display: none;*/\r\n    font-size: 20px;\r\n    font-weight: 600;\r\n    color: grey;\r\n  }\r\n  .userNum {\r\n    /*opacity: 1;*/\r\n    top: -45px;\r\n  }\r\n  .msg i, .userNum i {\r\n    margin-right: 5px;\r\n  }\r\n\r\n</style>"]}]}