{"remainingRequest":"D:\\CodingForFun\\Vue\\somePrograms\\gaosen\\node_modules\\babel-loader\\lib\\index.js??ref--3-1!D:\\CodingForFun\\Vue\\somePrograms\\gaosen\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\CodingForFun\\Vue\\somePrograms\\gaosen\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\CodingForFun\\Vue\\somePrograms\\gaosen\\docs\\.vuepress\\components\\piano.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\CodingForFun\\Vue\\somePrograms\\gaosen\\docs\\.vuepress\\components\\piano.vue","mtime":1648992366620},{"path":"D:\\CodingForFun\\Vue\\somePrograms\\gaosen\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648514419946},{"path":"D:\\CodingForFun\\Vue\\somePrograms\\gaosen\\node_modules\\babel-loader\\lib\\index.js","mtime":1648514420186},{"path":"D:\\CodingForFun\\Vue\\somePrograms\\gaosen\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648514419946},{"path":"D:\\CodingForFun\\Vue\\somePrograms\\gaosen\\node_modules\\vue-loader\\lib\\index.js","mtime":1648514420515},{"path":"D:\\CodingForFun\\Vue\\somePrograms\\gaosen\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648514419946},{"path":"D:\\CodingForFun\\Vue\\somePrograms\\gaosen\\node_modules\\babel-loader\\lib\\index.js","mtime":1648514420186},{"path":"D:\\CodingForFun\\Vue\\somePrograms\\gaosen\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648514419946},{"path":"D:\\CodingForFun\\Vue\\somePrograms\\gaosen\\node_modules\\vue-loader\\lib\\index.js","mtime":1648514420515}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi50aW1lcnMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5lcnJvci50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5kYXRlLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucGFyc2UtaW50LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJwaWFubyIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGtleU51bTogMzgsCiAgICAgIHNvbmdTdHI6IFtdLAogICAgICBwbGF5SW5kZXg6IFtdLAogICAgICB1c2VySW5wdXQ6ICcnCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9LAogIG1ldGhvZHM6IHsKICAgIGYwOiBmdW5jdGlvbiBmMCgpIHsKICAgICAgLyrova7or6Lmo4Dmn6XmmK/lkKbmnInpn7PpopHmjZ/lnY/jgIHnvLrlpLEqLwogICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYXVkaW8tYm94IGF1ZGlvJykuZm9yRWFjaChmdW5jdGlvbiAoZSwgaW5kZXgpIHsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGUucGxheSgpOwogICAgICAgIH0sIGluZGV4ICogNTAwKTsKICAgICAgfSk7CiAgICB9LAogICAgZjE6IGZ1bmN0aW9uIGYxKCkgewogICAgICAvKjEwMH4yMDAwSHrvvIjlpKfmpoLvvInkvp3mrKHmkq3mlL4qLwogICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYXVkaW8tYm94IGF1ZGlvJykuZm9yRWFjaChmdW5jdGlvbiAoZSwgaW5kZXgpIHsKICAgICAgICBpZiAoaW5kZXggJSAyID09PSAwKSB7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgZS5wbGF5KCk7CiAgICAgICAgICB9LCBpbmRleCAqIDI1MCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBmMjogZnVuY3Rpb24gZjIoaW5kZXgpIHsKICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3BpYW5vIiArIGluZGV4KS5wbGF5KCk7CiAgICAgIGNvbnNvbGUubG9nKCdidG4nKTsKICAgIH0sCiAgICBjb21wb3NlOiBmdW5jdGlvbiBjb21wb3NlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMucGxheUluZGV4Lmxlbmd0aCA+IDApIHsKICAgICAgICAoZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIHRpbWUgPSAxOwoKICAgICAgICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKGkpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coJ+W+queOrycpOwogICAgICAgICAgICBjb25zb2xlLmxvZygn5q2k5qyh5bqP5pWw5Li6OicgKyBfdGhpcy5wbGF5SW5kZXhbaV0pOwoKICAgICAgICAgICAgdmFyIHRlbXAgPSBfdGhpcy5wbGF5SW5kZXhbaV0udG9TdHJpbmcoKTsKCiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwaWFubycgKyB0ZW1wKS5wbGF5KCk7CiAgICAgICAgICAgICAgdGltZSsrOwogICAgICAgICAgICB9LCBpICogMTAwMCk7CiAgICAgICAgICB9OwoKICAgICAgICAgIGZvciAodmFyIGkgaW4gX3RoaXMucGxheUluZGV4KSB7CiAgICAgICAgICAgIF9sb29wKGkpOwogICAgICAgICAgfQogICAgICAgIH0pKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BpYW5vMjAnKS5wbGF5KCk7CiAgICAgICAgYWxlcnQoJ+ivt+i+k+WFpeiHquWumuS5ieabsuWtkCznhLblkI7ngrnlh7vnoa7lrponKTsKICAgICAgfQogICAgfSwKICAgIGlucHV0Q29tcG86IGZ1bmN0aW9uIGlucHV0Q29tcG8oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5zb25nU3RyID0gW107CiAgICAgIHRoaXMucGxheUluZGV4ID0gW107CiAgICAgIGNvbnNvbGUubG9nKHRoaXMudXNlcklucHV0KTsgLy91c2VySW5wdXTkuLrnsbvkvLwnQTEsQjIsQzMn55qE5a2X56ym5LiyCgogICAgICB0aGlzLnVzZXJJbnB1dC5zcGxpdCgiLyIpLmZvckVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBfdGhpczIuc29uZ1N0ci5wdXNoKGUpOyAvLwoKICAgICAgfSk7CiAgICAgIGNvbnNvbGUubG9nKCdzb25nU3RyOicpOwogICAgICBjb25zb2xlLmxvZyh0aGlzLnNvbmdTdHIpOyAvL+atpOWkhHNvbmdTdHLlupTkuLrmlbDnu4TnsbvlnosKCiAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5zb25nU3RyKSB7CiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5zb25nU3RyW2ldLnNsaWNlKDEpOyAvL+eUqOS6juiuoeeul2F1ZGlv5a6e6ZmF5bqP5pWwCgogICAgICAgIHZhciBjaCA9IHRoaXMuc29uZ1N0cltpXS5zbGljZSgwLCAxKTsgLy9jaOeUqOS7peWIpOaWreWcqOesrOWHoOihjAoKICAgICAgICBpZiAoaW5kZXggPiAxMykgewogICAgICAgICAgYWxlcnQoJ+iwseabsuWtl+espuS4suS4jeWQiOazlScpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgaWYgKGNoID09PSAnQScpIHsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCfnrKzkuIDooYwnKTsKICAgICAgICAgIHRoaXMucGxheUluZGV4LnB1c2goaW5kZXgpOwogICAgICAgIH0gZWxzZSBpZiAoY2ggPT09ICdCJykgewogICAgICAgICAgLy8gY29uc29sZS5sb2coJ+esrOS6jOihjCcpOwogICAgICAgICAgdGhpcy5wbGF5SW5kZXgucHVzaChwYXJzZUludChpbmRleCkgKyAxMyk7CiAgICAgICAgfSBlbHNlIGlmIChjaCA9PT0gJ0MnKSB7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZygn56ys5LiJ6KGMJyk7CiAgICAgICAgICB0aGlzLnBsYXlJbmRleC5wdXNoKHBhcnNlSW50KGluZGV4KSArIDI2KTsKICAgICAgICB9IGVsc2UgYWxlcnQoJ+iwseabsuWtl+espuS4suS4jeWQiOazlScpOwogICAgICB9CgogICAgICBjb25zb2xlLmxvZygnYXVkaW/lrp7pmYXluo/mlbA6XG4nKTsKICAgICAgY29uc29sZS5sb2codGhpcy5wbGF5SW5kZXgpOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACAA,eADA;AAEAC,MAFA,kBAEA;AACA;AACAC,gBADA;AAEAC,iBAFA;AAGAC,mBAHA;AAIAC;AAJA;AAMA,GATA;AAUAC,SAVA,qBAUA,CACA,CAXA;AAYAC;AACAC,MADA,gBACA;AACA;AACAC;AACAC;AACAC;AACA,SAFA,EAEAC,WAFA;AAGA,OAJA;AAKA,KARA;AASAC,MATA,gBASA;AACA;AACAJ;AACA;AACAC;AACAC;AACA,WAFA,EAEAC,WAFA;AAGA;AACA,OANA;AAOA,KAlBA;AAmBAE,MAnBA,cAmBAF,KAnBA,EAmBA;AACAH;AACAM;AACA,KAtBA;AAuBAC,WAvBA,qBAuBA;AAAA;;AACA;AAAA;AACA;;AADA,qCAEAC,CAFA;AAGAF;AACAA;;AACA;;AACAL;AACAD;AACAS;AACA,aAHA,EAGAD,QAHA;AANA;;AAEA;AAAA;AAQA;AAVA;AAWA,OAXA,MAYA;AACAR;AACAU;AACA;AAEA,KAzCA;AA0CAC,cA1CA,wBA0CA;AAAA;;AACA;AACA;AACAL,kCAHA,CAGA;;AACA;AACA,+BADA,CACA;;AACA,OAFA;AAIAA;AACAA,gCATA,CASA;;AAEA;AACA,6CADA,CACA;;AACA,6CAFA,CAEA;;AAEA;AACAI;AACA;AACA;;AAEA;AACA;AACA;AAEA,SAJA,MAIA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA,SAHA,MAIAA;AACA;;AACAJ;AACAA;AACA;AA7EA;AAZA","names":["name","data","keyNum","songStr","playIndex","userInput","mounted","methods","f0","document","setTimeout","e","index","f1","f2","console","compose","i","time","alert","inputCompo"],"sourceRoot":"docs/.vuepress/components","sources":["piano.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"layout-box\">\r\n      <h2>奏乐输入请以以下图片布局为准</h2>\r\n      <br>\r\n      <span>如:一闪一闪亮晶晶:B1/B1/B4/B4/B5/B5/B4/B4/B4/B3/B3/B2/B2/B1\r\n\r\n        B5/B5/B4/B4/B3/B3/B2/B5/B5/B4/B4/B3/B3/B2\r\n\r\n        B1/B1/B4/B4/B5/B5/B4/B4/B4/B3/B3/B2/B2/B1\r\n      </span>\r\n      <br>\r\n      <img :src=\"$withBase('/img/layout.png')\" alt=\"示例图\" />\r\n    </div>\r\n    <br>\r\n    <div class=\"btn-box\">\r\n      <button class=\"f1\" @click=\"f0\">轮询测试</button>\r\n      <button class=\"f1\" @click=\"f1\">100 ~ 2000Hz</button>\r\n      <button class=\"f1\" @click=\"compose\">奏乐</button>\r\n      <div class=\"input-box\">\r\n        <i class=\"iconfont reco-douyin\"></i>\r\n        <input type=\"text\" placeholder=\"输入曲子，以'/'分隔\" v-model=\"userInput\">\r\n        <div @click=\"inputCompo\">确定</div>\r\n      </div>\r\n    </div>\r\n    <ul style=\"display: none\">\r\n      <li v-for=\"(index) in keyNum\" class=\"audio-box\">\r\n        <audio :src='$withBase(`/music/piano(${index}).mp3`)' :id=\"`piano${index}`\"></audio>\r\n      </li>\r\n    </ul>\r\n    <ul class=\"key-ul\">\r\n      <li class=\"key-box\" v-for=\"index in keyNum\">\r\n        <button class=\"f1 key-button\" @click=\"f2(index)\"></button>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"piano\",\r\n  data() {\r\n    return {\r\n      keyNum: 38,\r\n      songStr: [],\r\n      playIndex: [],\r\n      userInput: ''\r\n    }\r\n  },\r\n  mounted() {\r\n  },\r\n  methods: {\r\n    f0() {\r\n      /*轮询检查是否有音频损坏、缺失*/\r\n      document.querySelectorAll('.audio-box audio').forEach((e, index) => {\r\n        setTimeout(() => {\r\n          e.play();\r\n        }, index * 500)\r\n      })\r\n    },\r\n    f1() {\r\n      /*100~2000Hz（大概）依次播放*/\r\n      document.querySelectorAll('.audio-box audio').forEach((e, index) => {\r\n        if (index % 2 === 0) {\r\n          setTimeout(() => {\r\n            e.play();\r\n          }, index * 250)\r\n        }\r\n      })\r\n    },\r\n    f2(index) {\r\n      document.querySelector(\"#piano\" + index).play()\r\n      console.log('btn');\r\n    },\r\n    compose() {\r\n      if (this.playIndex.length > 0) {\r\n        let time = 1;\r\n        for (let i in this.playIndex) {\r\n          console.log('循环');\r\n          console.log('此次序数为:'+this.playIndex[i]);\r\n          let temp = this.playIndex[i].toString()\r\n          setTimeout(() => {\r\n            document.querySelector('#piano' + temp).play()\r\n            time ++\r\n          }, i * 1000)\r\n        }\r\n      }\r\n      else {\r\n        document.querySelector('#piano20').play()\r\n        alert('请输入自定义曲子,然后点击确定')\r\n      }\r\n\r\n    },\r\n    inputCompo() {\r\n      this.songStr = []\r\n      this.playIndex = []\r\n      console.log(this.userInput);//userInput为类似'A1,B2,C3'的字符串\r\n      this.userInput.split(\"/\").forEach(e => {\r\n        this.songStr.push(e) //\r\n      });\r\n\r\n      console.log('songStr:');\r\n      console.log(this.songStr);//此处songStr应为数组类型\r\n\r\n      for (let i in this.songStr) {\r\n        let index = this.songStr[i].slice(1) //用于计算audio实际序数\r\n        let ch = this.songStr[i].slice(0, 1) //ch用以判断在第几行\r\n\r\n        if(index > 13) {\r\n          alert('谱曲字符串不合法')\r\n          return\r\n        }\r\n\r\n        if (ch === 'A') {\r\n          // console.log('第一行');\r\n          this.playIndex.push(index)\r\n\r\n        } else if (ch === 'B') {\r\n          // console.log('第二行');\r\n          this.playIndex.push(parseInt(index) + 13)\r\n        } else if (ch === 'C') {\r\n          // console.log('第三行');\r\n          this.playIndex.push(parseInt(index) + 26)\r\n        } else\r\n          alert('谱曲字符串不合法')\r\n      }\r\n      console.log('audio实际序数:\\n');\r\n      console.log(this.playIndex);\r\n    },\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.btn-box {\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  .f1 {\r\n    margin: 0 5px;\r\n    border: none;\r\n    box-sizing: border-box;\r\n    padding: 13px 10px;\r\n    color: white;\r\n    background-color: #1a6aa6;\r\n    border-radius: 10px;\r\n    cursor: pointer;\r\n    font-weight: 600;\r\n  }\r\n\r\n  .f1:hover {\r\n    background-color: #12609b;\r\n  }\r\n\r\n  .input-box {\r\n    background-color: #1a6aa6;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    border-radius: 8px;\r\n    padding: 0 0 0 15px;\r\n    overflow: hidden;\r\n    height: 5ch;\r\n\r\n    i::before {\r\n      font-size: 1.5ch;\r\n      color: white;\r\n    }\r\n\r\n    input {\r\n      border: none;\r\n      box-sizing: border-box;\r\n      background: none;\r\n      color: white;\r\n      outline: none;\r\n      margin-left: 5px;\r\n      padding: 5px;\r\n    }\r\n\r\n    input::placeholder {\r\n      color: white;\r\n    }\r\n\r\n    div {\r\n      background-color: #e0e1e2;\r\n      cursor: pointer;\r\n      color: #5a5a5a;\r\n      height: 100%;\r\n      display: flex;\r\n      align-items: center;\r\n      padding: 5px 10px;\r\n      width: 20%;\r\n      font-weight: 600;\r\n    }\r\n\r\n    div:hover {\r\n      background-color: #cacbcd;\r\n    }\r\n  }\r\n\r\n}\r\n\r\n.key-ul {\r\n  list-style: none;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  width: 100%;\r\n  justify-content: flex-start;\r\n\r\n  .key-box {\r\n    width: 7%;\r\n    margin: 0 2px;\r\n\r\n    .key-button {\r\n      width: 100%;\r\n      height: 100px;\r\n      border-radius: 0;\r\n      padding: 0;\r\n      background-color: #e0e1e2;\r\n      border: none;\r\n      cursor: pointer;\r\n    }\r\n\r\n    .key-button:hover {\r\n      background-color: #cacbcd;\r\n    }\r\n\r\n\r\n  }\r\n}\r\n</style>"]}]}