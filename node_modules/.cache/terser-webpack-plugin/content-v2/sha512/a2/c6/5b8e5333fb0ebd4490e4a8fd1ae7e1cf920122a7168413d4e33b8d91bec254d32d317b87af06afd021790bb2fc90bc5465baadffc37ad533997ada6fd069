{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[11,16],{523:function(s,e,r){},528:function(s,e,r){\"use strict\";r(523)},562:function(s,e,r){},572:function(s,e,r){\"use strict\";r.r(e);r(50),r(6),r(51),r(49),r(270),r(12),r(271),r(527);var t={name:\"Chess\",props:{displayChess:{type:Array,default:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},data:function(){return{test:[],IN_BOARD_:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],displayChessTemp:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],FEN:\"rnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR\",FENArray:[],userInputFEN:\"\",userInput:\"\",sqSelected:0,currentChess:\"\"}},computed:{imgDomArr:function(){return document.querySelectorAll(\"div.imgBox img\")}},watch:{displayChess:{handler:function(s,e){this.displayChessTemp=s;for(var r=this.COORD_XY(3,3),t=this.COORD_XY(11,12),a=\"\",i=0,c=0,h=r;h<=t;h++)if(this.IN_BOARD(h)){switch(s[h]){case 8:a=\"K\";break;case 9:a=\"A\";break;case 10:a=\"B\";break;case 11:a=\"N\";break;case 12:a=\"R\";break;case 13:a=\"C\";break;case 14:a=\"P\";break;case 16:a=\"k_\";break;case 17:a=\"a_\";break;case 18:a=\"b_\";break;case 19:a=\"n_\";break;case 20:a=\"r_\";break;case 21:a=\"c_\";break;case 22:a=\"p_\";break;case 1:case 0:a=\"UNexist\";break;default:a=\"UNexist\"}i=this.RANK_Y(h),this.FILE_X(h),c=h-7*i-30;var n=\"/img/chess/\".concat(a,\".png\");this.imgDomArr[c].src=n,a=\"\",i=0,c=0}}}},mounted:function(){var s=this;this.initBoard(),document.querySelectorAll(\"div.imgBox img\").forEach((function(e,r){e.addEventListener(\"mousedown\",(function(e,r){var t=e.target.src.slice(32,33),a=(s.ImgNameToChessName(t),parseInt(e.target.id.slice(3))+1),i={displayChess:s.displayChessTemp,fileName:t,imgIndex:a,sqSelected:s.imgIndexToSq(a)};s.chess1Click(i)}))}))},methods:{IN_BOARD:function(s){return 0!==this.IN_BOARD_[s]},COORD_XY:function(s,e){return s+(e<<4)},RANK_Y:function(s){return s>>4},FILE_X:function(s){return 15&s},initBoard:function(){this.displayChessTemp=[],this.FENArray=this.FEN.split(\"\"),this.FENtoBoard(this.FENArray);for(var s=0;s<256;s++)this.IN_BOARD(s)||(this.displayChessTemp[s]=null);for(var e=this.COORD_XY(3,3),r=this.COORD_XY(11,12),t=\"\",a=0,i=0,c=e;c<=r;c++)if(this.IN_BOARD(c)){switch(this.displayChessTemp[c]){case 8:t=\"K\";break;case 9:t=\"A\";break;case 10:t=\"B\";break;case 11:t=\"N\";break;case 12:t=\"R\";break;case 13:t=\"C\";break;case 14:t=\"P\";break;case 16:t=\"k_\";break;case 17:t=\"a_\";break;case 18:t=\"b_\";break;case 19:t=\"n_\";break;case 20:t=\"r_\";break;case 21:t=\"c_\";break;case 22:t=\"p_\";break;case 1:case 0:t=\"UNexist\";break;default:t=\"UNexist\"}a=this.RANK_Y(c),this.FILE_X(c),i=c-7*a-30;var h=\"/img/chess/\".concat(t,\".png\");this.imgDomArr[i].src=h,t=\"\",a=0,i=0}},FENtoBoard:function(s){var e=3,r=3;for(var t in s){var a=s[t];if(\"/\"==a&&r++,r>12)break;if(e>11)e=3;else if(a>=\"1\"&&a<=\"9\")e+=parseInt(a);else if(a>=\"a\"&&a<=\"z\"){var i=e+(r<<4);this.displayChessTemp[i]=this.FENCharToNum(a),e++}else if(a>=\"A\"&&a<=\"Z\"){var c=e+(r<<4);this.displayChessTemp[c]=this.FENCharToNum(a),e++}else console.log(\"err\")}},FENCharToNum:function(s){switch(s){case\"K\":return 8;case\"A\":return 9;case\"B\":return 10;case\"N\":return 11;case\"R\":return 12;case\"C\":return 13;case\"P\":return 14;case\"k\":return 16;case\"a\":return 17;case\"b\":return 18;case\"n\":return 19;case\"r\":return 20;case\"c\":return 21;case\"p\":return 22;default:return\"err\"}},FENCharToImg:function(s){switch(s){case\"K\":return\"K\";case\"A\":return\"A\";case\"B\":return\"B\";case\"N\":return\"N\";case\"R\":return\"R\";case\"C\":return\"C\";case\"P\":return\"P\";case\"k\":return\"k_\";case\"a\":return\"a_\";case\"b\":return\"b_\";case\"n\":return\"n_\";case\"r\":return\"r_\";case\"c\":return\"c_\";case\"p\":return\"p_\";default:return\"err\"}},ImgNameToChessName:function(s){switch(s){case\"K\":return\"红方_帅\";case\"A\":return\"红方_士\";case\"B\":return\"红方_相\";case\"N\":return\"红方_马\";case\"R\":return\"红方_车\";case\"C\":return\"红方_炮\";case\"P\":return\"红方_兵\";case\"k\":return\"黑方_将\";case\"a\":return\"黑方_仕\";case\"b\":return\"黑方_象\";case\"n\":return\"黑方_马\";case\"r\":return\"黑方_车\";case\"c\":return\"黑方_炮\";case\"p\":return\"黑方_卒\";default:return\"空\"}},drawWithFEN:function(s){this.FENArray=[],this.FENArray=s.split(\"\"),this.displayChessTemp=[],this.FENtoBoard(this.FENArray);for(var e=0;e<256;e++)this.IN_BOARD(e)||(this.displayChessTemp[e]=null);for(var r=this.COORD_XY(3,3),t=this.COORD_XY(11,12),a=\"\",i=0,c=0,h=r;h<=t;h++)if(this.IN_BOARD(h)){switch(this.displayChessTemp[h]){case 8:a=\"K\";break;case 9:a=\"A\";break;case 10:a=\"B\";break;case 11:a=\"N\";break;case 12:a=\"R\";break;case 13:a=\"C\";break;case 14:a=\"P\";break;case 16:a=\"k_\";break;case 17:a=\"a_\";break;case 18:a=\"b_\";break;case 19:a=\"n_\";break;case 20:a=\"r_\";break;case 21:a=\"c_\";break;case 22:a=\"p_\";break;case 1:case 0:a=\"UNexist\";break;default:a=\"UNexist\"}i=this.RANK_Y(h),this.FILE_X(h),c=h-7*i-30;var n=\"/img/chess/\".concat(a,\".png\");this.imgDomArr[c].src=n,a=\"\",i=0,c=0}},imgIndexToSq:function(s){return s+30+7*(Math.floor((s-1)/9)+3)-1},sureInput:function(){var s=this.userInput;this.drawWithFEN(s)},test2:function(){this.drawWithFEN(\"1n1akabnr/r8/9/9/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR\")},btnClick2:function(){this.test2()},chess1Click:function(s){this.$emit(\"show\",s)}}},a=(r(528),r(3)),i=Object(a.a)(t,(function(){var s=this,e=s.$createElement,r=s._self._c||e;return r(\"div\",[r(\"div\",{staticClass:\"chessBoard\"},s._l(90,(function(e,t){return r(\"div\",{staticClass:\"imgBox myImgBox\"},[r(\"img\",{key:t,attrs:{src:s.$withBase(\"/img/chess/K_.png\"),id:\"pos\"+t,alt:\"一个棋子\"}})])})),0)])}),[],!1,null,\"c98f055e\",null);e.default=i.exports},635:function(s,e,r){\"use strict\";r(562)},660:function(s,e,r){\"use strict\";r.r(e);r(12),r(271),r(270);var t={name:\"chess2\",components:{chess1:r(572).default},data:function(){return{FEN:\"rnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR\",IN_BOARD_:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],selectedPos:0,sqSrc:-1,sqDest:-1,displayChess:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],pieceNumber:{king:0,advisor:1,bishop:2,knight:3,rook:4,cannon:5,pawn:6},pcSelfSide:0,IN_FORT_:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],LEGAL_SPAN:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,2,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,2,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],KNIGHT_PIN_:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16,0,-16,0,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,16,0,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],playerSide:!0,wScore:0,bScore:0,markMsgArr:[\"是不是没开显示器？\",\"都说你的技艺忽似三岁孩童，忽似八十老翁，今天一感受果然名不虚传。\",\"你们可别小看了新来的技术员，虽然他有点其貌不扬，但才华出众。\",\"这位技艺精湛的技术员是我们三顾茅庐才请到的，技艺简直可以说是独一无二了。\",\"你就是一个前无古人、后无来者、玉树临风、英俊潇洒的天生奇才。\",\"你的每一刀都很精准，我身上好像有蚂蚁在爬\"],wMarkMsg:\"err\",bMarkMsg:\"err\"}},computed:{playSideStr:function(){return this.playerSide?\"红方\":\"黑方\"}},methods:{IN_BOARD:function(s){return 0!==this.IN_BOARD_[s]},COORD_XY:function(s,e){return s+(e<<4)},IN_FORT:function(s){return 0!==this.IN_FORT_[s]},SAME_HALF:function(s,e){return 0==(128&(s^e))},AWAY_HALF:function(s,e){return(128&s)==e<<7},SQUARE_FORWARD:function(s,e){return s-16+(e<<5)},initBoard:function(){this.displayChess=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.playerSide=!0,this.sqSrc=this.sqDest=this.pcSelfSide=this.selectedPos=this.wScore=this.bScore=0,this.wMarkMsg=\"\",this.FENtoBoard(this.FEN.split(\"\"));for(var s=0;s<256;s++)this.IN_BOARD(s)||(this.displayChess[s]=null);for(var e=this.COORD_XY(3,3),r=this.COORD_XY(11,12),t=\"\",a=0,i=0,c=e;c<=r;c++)if(this.IN_BOARD(c)){switch(this.displayChess[c]){case 8:t=\"K\";break;case 9:t=\"A\";break;case 10:t=\"B\";break;case 11:t=\"N\";break;case 12:t=\"R\";break;case 13:t=\"C\";break;case 14:t=\"P\";break;case 16:t=\"k_\";break;case 17:t=\"a_\";break;case 18:t=\"b_\";break;case 19:t=\"n_\";break;case 20:t=\"r_\";break;case 21:t=\"c_\";break;case 22:t=\"p_\";break;case 1:case 0:t=\"UNexist\";break;default:t=\"UNexist\"}a=this.RANK_Y(c),this.FILE_X(c),i=c-7*a-30;var h=\"/img/chess/\".concat(t,\".png\");this.imgDomArr[i].src=h,t=\"\",a=0,i=0}},FENtoBoard:function(s){var e=3,r=3;for(var t in s){var a=s[t];if(\"/\"==a&&r++,r>12)break;if(e>11)e=3;else if(a>=\"1\"&&a<=\"9\")e+=parseInt(a);else if(a>=\"a\"&&a<=\"z\"){var i=e+(r<<4);this.displayChess[i]=this.FENCharToNum(a),e++}else if(a>=\"A\"&&a<=\"Z\"){var c=e+(r<<4);this.displayChess[c]=this.FENCharToNum(a),e++}else console.log(\"err\")}},chess1Click:function(s){this.displayChess=s.displayChess,this.manageBoardArray(),this.sq=s.sqSelected;var e=this.displayChess[s.sqSelected],r=this.playerSide&&e>=8&&e<=14,t=!this.playerSide&&e>=16;if(0===this.selectedPos&&(r||t))this.selectedPos=s.sqSelected;else if(0!==this.selectedPos){if(r||t)this.selectedPos=s.sqSelected;else this.sqSrc=this.selectedPos,this.sqDest=s.sqSelected,this.judgeMove(this.displayChess[this.sqSrc],this.sqSrc,this.sqDest)&&(8===this.displayChess[this.sqDest]?($(\"div.tipBox2\").attr(\"style\",\"display: flex;\"),this.bScore+=30,this.markBoard()):16===this.displayChess[this.sqDest]?($(\"div.tipBox2\").attr(\"style\",\"display: flex;\"),this.wScore+=30,this.markBoard()):(console.log(\"没吃掉将/帅\"),8&this.displayChess[this.sqDest]?(this.bScore+=10,console.log(\"终点处是红方棋子\")):16&this.displayChess[this.sqDest]&&(this.wScore+=10,console.log(\"终点处是黑方棋子\")),this.$set(this.displayChess,this.sqDest,this.displayChess[this.sqSrc]),this.$set(this.displayChess,this.sqSrc,1),this.playerSide=!this.playerSide,console.log(\"终点棋子:\"+this.displayChess[this.sqDest]),console.log(\"起点棋子:\"+this.displayChess[this.sqSrc])))}},drawWithFEN:function(){for(var s=this.COORD_XY(3,3),e=this.COORD_XY(11,12),r=document.querySelectorAll(\"div.imgBox img\"),t=\"\",a=0,i=0,c=s;c<=e;c++)if(this.IN_BOARD(c)){switch(this.displayChess[c]){case 8:t=\"K\";break;case 9:t=\"A\";break;case 10:t=\"B\";break;case 11:t=\"N\";break;case 12:t=\"R\";break;case 13:t=\"C\";break;case 14:t=\"P\";break;case 16:t=\"k_\";break;case 17:t=\"a_\";break;case 18:t=\"b_\";break;case 19:t=\"n_\";break;case 20:t=\"r_\";break;case 21:t=\"c_\";break;case 22:t=\"p_\";break;case 1:case 0:t=\"UNexist\";break;default:t=\"UNexist\"}a=this.RANK_Y(c),this.FILE_X(c),i=c-7*a-30;var h=\"/img/chess/\".concat(t,\".png\");r[i].src=h,t=\"\",a=0,i=0}},FENCharToNum:function(s){switch(s){case\"K\":return 8;case\"A\":return 9;case\"B\":return 10;case\"N\":return 11;case\"R\":return 12;case\"C\":return 13;case\"P\":return 14;case\"k\":return 16;case\"a\":return 17;case\"b\":return 18;case\"n\":return 19;case\"r\":return 20;case\"c\":return 21;case\"p\":return 22;default:return 1}},judgeMove:function(s,e,r){this.playerSide?this.pcSelfSide=8:this.pcSelfSide=16;var t=s-this.pcSelfSide,a=r-e;if(t===this.pieceNumber.king)return(-16===a||16===a||1===a||-1===a)&&this.IN_FORT(r);if(t===this.pieceNumber.advisor)return(-17===a||17===a||-15===a||15===a)&&this.IN_FORT(r);if(t===this.pieceNumber.bishop)return(-34===a||34===a||-30===a||30===a)&&this.SAME_HALF(e,r)&&1===this.displayChess[Math.floor((e+r)/2)];if(t===this.pieceNumber.knight){var i=e+this.KNIGHT_PIN_[r-e+256];return(-33===a||33===a||-18===a||18===a||-14===a||14===a||-31===a||31===a)&&1===this.displayChess[i]}if(t===this.pieceNumber.rook){var c=!1;if(a>0){if(a%16==0)for(var h=e+16;h<r;){if(this.displayChess[h]>=8){c=!0;break}h+=16}else for(var n=e+1;n<r;n++)if(this.displayChess[n]>=8){c=!0;break}}else if(a<0)if(Math.abs(a)%16==0)for(var o=e-16;o>r;){if(this.displayChess[o]>=8){c=!0;break}o-=16}else for(var l=e-1;l>r;l--)if(this.displayChess[l]>=8){c=!0;break}return(this.RANK_Y(e)===this.RANK_Y(r)||this.FILE_X(e)===this.FILE_X(r))&&!c}if(t===this.pieceNumber.cannon){var u=0;if(Math.abs(a)%16==0){if(a>0)for(var d=e+16;d<r&&!(this.displayChess[d]>=8&&(!0,++u>1));)d+=16;else if(a<0)for(var _=e-16;_>r&&!(this.displayChess[_]>=8&&(!0,++u>1));)_-=16}else if(a>0)for(var p=e+1;p<r&&(this.displayChess[p]>=8&&u++,!(u>1));p++);else for(var f=e-1;f>r&&(this.displayChess[f]>=8&&u++,!(u>1));f--);var k=!1;return this.playerSide?16&this.displayChess[r]&&(k=!0):8&this.displayChess[r]&&(k=!0),(this.RANK_Y(e)===this.RANK_Y(r)||this.FILE_X(e)===this.FILE_X(r))&&(1===u&&k||0===u)}if(t===this.pieceNumber.pawn){var b,C=!1,N=!1;return 16===this.pcSelfSide?(b=1,16===a&&(N=!0)):8===this.pcSelfSide&&(b=0,-16===a&&(N=!0)),this.AWAY_HALF(r,b)&&1===Math.abs(a)&&(C=!0),N||C}console.log(\"走法不合法或点击了空白处\")},isHaveSelfPc:function(s,e){return this.pcSelfSide=!1&s?16:8,console.log(this.displayChess[e]&this.pcSelfSide),this.displayChess[e]&this.pcSelfSide},RANK_Y:function(s){return s>>4},FILE_X:function(s){return 15&s},manageBoardArray:function(){for(var s=0;s<256;s++)(void 0===this.displayChess[s]||this.displayChess[s]<8)&&this.IN_BOARD_[s]&&(this.displayChess[s]=1)},winSure:function(){$(\"div.tipBox2\").attr(\"style\",\"display: none;\"),this.initBoard()},markBoard:function(){var s=this.wScore;this.wMarkMsg=s<=20?this.markMsgArr[0]:s<=30?this.markMsgArr[1]:s<=40?this.markMsgArr[2]:s<=50?this.markMsgArr[3]:s<=60?this.markMsgArr[4]:s>60?this.markMsgArr[5]:\"暂无评分\";var e=this.bScore;e<=20?this.bMarkMsg=this.markMsgArr[0]:e<=30?this.bMarkMsg=this.markMsgArr[1]:e<=40?this.bMarkMsg=this.markMsgArr[2]:e<=50?this.bMarkMsg=this.markMsgArr[3]:e<=60?this.bMarkMsg=this.markMsgArr[4]:e>60?this.bMarkMsg=this.markMsgArr[5]:this.wMarkMsg=\"暂无评分\"},btnClick:function(){console.log(-0)}}},a=(r(635),r(3)),i=Object(a.a)(t,(function(){var s=this,e=s.$createElement,r=s._self._c||e;return r(\"div\",{staticClass:\"totalBox\"},[r(\"div\",{staticClass:\"tipBox\"},[s._v(\"走棋方：\\n    \"),r(\"b\",[s._v(s._s(this.playSideStr))])]),s._v(\" \"),r(\"div\",{staticClass:\"tipBox2\"},[r(\"div\",{staticClass:\"winMsg\"},[s._v(s._s(this.playSideStr)+\"胜利！\")]),s._v(\" \"),r(\"div\",{staticClass:\"scoreBox\"},[r(\"div\",{staticClass:\"wScore\"},[s._v(\"红方得分：\"+s._s(this.wScore))]),s._v(\" \"),r(\"div\",{staticClass:\"bScore\"},[s._v(\"黑方得分：\"+s._s(this.bScore))]),s._v(\" \"),r(\"br\"),s._v(\" \"),r(\"div\",{staticClass:\"commentBox\"},[r(\"div\",[s._v(\"红方得到的评语：\"+s._s(this.wMarkMsg))]),s._v(\" \"),r(\"div\",[s._v(\"黑方得到的评语：\"+s._s(this.bMarkMsg))])])]),s._v(\" \"),r(\"div\",{staticClass:\"btnBox\"},[r(\"button\",{staticClass:\"f1\",on:{click:s.winSure}},[s._v(\"重开！\")])])]),s._v(\" \"),r(\"button\",{staticClass:\"f1\",on:{click:s.initBoard}},[s._v(\"remake\")]),s._v(\" \"),r(\"chess1\",{attrs:{displayChess:s.displayChess},on:{show:s.chess1Click}})],1)}),[],!1,null,\"b209a24e\",null);e.default=i.exports}}]);","extractedComments":[]}