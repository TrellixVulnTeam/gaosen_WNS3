{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[11,18],{523:function(s,e,t){},528:function(s,e,t){\"use strict\";t(523)},568:function(s,e,t){},574:function(s,e,t){\"use strict\";t.r(e);t(50),t(6),t(51),t(49),t(270),t(12),t(271),t(526);var r={name:\"Chess\",props:{displayChess:{type:Array,default:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},data:function(){return{test:[],IN_BOARD_:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],displayChessTemp:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],FEN:\"rnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR\",FENArray:[],userInputFEN:\"\",userInput:\"\",sqSelected:0,currentChess:\"\"}},computed:{imgDomArr:function(){return document.querySelectorAll(\"div.imgBox img\")}},watch:{displayChess:{handler:function(s,e){this.displayChessTemp=s;for(var t=this.COORD_XY(3,3),r=this.COORD_XY(11,12),i=\"\",a=0,c=0,h=t;h<=r;h++)if(this.IN_BOARD(h)){switch(s[h]){case 8:i=\"K\";break;case 9:i=\"A\";break;case 10:i=\"B\";break;case 11:i=\"N\";break;case 12:i=\"R\";break;case 13:i=\"C\";break;case 14:i=\"P\";break;case 16:i=\"k_\";break;case 17:i=\"a_\";break;case 18:i=\"b_\";break;case 19:i=\"n_\";break;case 20:i=\"r_\";break;case 21:i=\"c_\";break;case 22:i=\"p_\";break;case 1:case 0:i=\"UNexist\";break;default:i=\"UNexist\"}a=this.RANK_Y(h),this.FILE_X(h),c=h-7*a-30;var n=\"/img/chess/\".concat(i,\".png\");this.imgDomArr[c].src=n,i=\"\",a=0,c=0}}}},mounted:function(){var s=this;this.initBoard(),document.querySelectorAll(\"div.imgBox img\").forEach((function(e,t){e.addEventListener(\"mousedown\",(function(e,t){var r=e.target.src.slice(32,33),i=(s.ImgNameToChessName(r),parseInt(e.target.id.slice(3))+1),a={displayChess:s.displayChessTemp,fileName:r,imgIndex:i,sqSelected:s.imgIndexToSq(i)};s.chess1Click(a)}))}))},methods:{IN_BOARD:function(s){return 0!==this.IN_BOARD_[s]},COORD_XY:function(s,e){return s+(e<<4)},RANK_Y:function(s){return s>>4},FILE_X:function(s){return 15&s},initBoard:function(){this.displayChessTemp=[],this.FENArray=this.FEN.split(\"\"),this.FENtoBoard(this.FENArray);for(var s=0;s<256;s++)this.IN_BOARD(s)||(this.displayChessTemp[s]=null);for(var e=this.COORD_XY(3,3),t=this.COORD_XY(11,12),r=\"\",i=0,a=0,c=e;c<=t;c++)if(this.IN_BOARD(c)){switch(this.displayChessTemp[c]){case 8:r=\"K\";break;case 9:r=\"A\";break;case 10:r=\"B\";break;case 11:r=\"N\";break;case 12:r=\"R\";break;case 13:r=\"C\";break;case 14:r=\"P\";break;case 16:r=\"k_\";break;case 17:r=\"a_\";break;case 18:r=\"b_\";break;case 19:r=\"n_\";break;case 20:r=\"r_\";break;case 21:r=\"c_\";break;case 22:r=\"p_\";break;case 1:case 0:r=\"UNexist\";break;default:r=\"UNexist\"}i=this.RANK_Y(c),this.FILE_X(c),a=c-7*i-30;var h=\"/img/chess/\".concat(r,\".png\");this.imgDomArr[a].src=h,r=\"\",i=0,a=0}},FENtoBoard:function(s){var e=3,t=3;for(var r in s){var i=s[r];if(\"/\"==i&&t++,t>12)break;if(e>11)e=3;else if(i>=\"1\"&&i<=\"9\")e+=parseInt(i);else if(i>=\"a\"&&i<=\"z\"){var a=e+(t<<4);this.displayChessTemp[a]=this.FENCharToNum(i),e++}else if(i>=\"A\"&&i<=\"Z\"){var c=e+(t<<4);this.displayChessTemp[c]=this.FENCharToNum(i),e++}else console.log(\"err\")}},FENCharToNum:function(s){switch(s){case\"K\":return 8;case\"A\":return 9;case\"B\":return 10;case\"N\":return 11;case\"R\":return 12;case\"C\":return 13;case\"P\":return 14;case\"k\":return 16;case\"a\":return 17;case\"b\":return 18;case\"n\":return 19;case\"r\":return 20;case\"c\":return 21;case\"p\":return 22;default:return\"err\"}},FENCharToImg:function(s){switch(s){case\"K\":return\"K\";case\"A\":return\"A\";case\"B\":return\"B\";case\"N\":return\"N\";case\"R\":return\"R\";case\"C\":return\"C\";case\"P\":return\"P\";case\"k\":return\"k_\";case\"a\":return\"a_\";case\"b\":return\"b_\";case\"n\":return\"n_\";case\"r\":return\"r_\";case\"c\":return\"c_\";case\"p\":return\"p_\";default:return\"err\"}},ImgNameToChessName:function(s){switch(s){case\"K\":return\"红方_帅\";case\"A\":return\"红方_士\";case\"B\":return\"红方_相\";case\"N\":return\"红方_马\";case\"R\":return\"红方_车\";case\"C\":return\"红方_炮\";case\"P\":return\"红方_兵\";case\"k\":return\"黑方_将\";case\"a\":return\"黑方_仕\";case\"b\":return\"黑方_象\";case\"n\":return\"黑方_马\";case\"r\":return\"黑方_车\";case\"c\":return\"黑方_炮\";case\"p\":return\"黑方_卒\";default:return\"空\"}},drawWithFEN:function(s){this.FENArray=[],this.FENArray=s.split(\"\"),this.displayChessTemp=[],this.FENtoBoard(this.FENArray);for(var e=0;e<256;e++)this.IN_BOARD(e)||(this.displayChessTemp[e]=null);for(var t=this.COORD_XY(3,3),r=this.COORD_XY(11,12),i=\"\",a=0,c=0,h=t;h<=r;h++)if(this.IN_BOARD(h)){switch(this.displayChessTemp[h]){case 8:i=\"K\";break;case 9:i=\"A\";break;case 10:i=\"B\";break;case 11:i=\"N\";break;case 12:i=\"R\";break;case 13:i=\"C\";break;case 14:i=\"P\";break;case 16:i=\"k_\";break;case 17:i=\"a_\";break;case 18:i=\"b_\";break;case 19:i=\"n_\";break;case 20:i=\"r_\";break;case 21:i=\"c_\";break;case 22:i=\"p_\";break;case 1:case 0:i=\"UNexist\";break;default:i=\"UNexist\"}a=this.RANK_Y(h),this.FILE_X(h),c=h-7*a-30;var n=\"/img/chess/\".concat(i,\".png\");this.imgDomArr[c].src=n,i=\"\",a=0,c=0}},imgIndexToSq:function(s){return s+30+7*(Math.floor((s-1)/9)+3)-1},sureInput:function(){var s=this.userInput;this.drawWithFEN(s)},test2:function(){this.drawWithFEN(\"1n1akabnr/r8/9/9/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR\")},btnClick2:function(){this.test2()},chess1Click:function(s){this.$emit(\"show\",s)}}},i=(t(528),t(3)),a=Object(i.a)(r,(function(){var s=this,e=s.$createElement,t=s._self._c||e;return t(\"div\",[t(\"div\",{staticClass:\"chessBoard\"},[s._l(90,(function(e,r){return t(\"div\",{staticClass:\"imgBox myImgBox\"},[t(\"img\",{key:r,attrs:{src:s.$withBase(\"/img/chess/K_.png\"),id:\"pos\"+r,alt:\"一个棋子\"}})])})),s._v(\" \"),s._m(0)],2)])}),[function(){var s=this.$createElement,e=this._self._c||s;return e(\"div\",{staticClass:\"myFontBox\"},[e(\"div\",{staticClass:\"css2ebd673af7243b7\"},[this._v(\"楚河\")]),this._v(\" \"),e(\"div\",{staticClass:\"css2ebd673af7243b7\"},[this._v(\"汉界\")])])}],!1,null,\"2e112baf\",null);e.default=a.exports},646:function(s,e,t){\"use strict\";t(568)},673:function(s,e,t){\"use strict\";t.r(e);t(12),t(271),t(270);var r={name:\"chess2\",components:{chess1:t(574).default},data:function(){return{FEN:\"rnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR\",IN_BOARD_:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],selectedPos:0,sqSrc:-1,sqDest:-1,displayChess:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],pieceNumber:{king:0,advisor:1,bishop:2,knight:3,rook:4,cannon:5,pawn:6},pcSelfSide:0,IN_FORT_:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],LEGAL_SPAN:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,2,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,2,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],KNIGHT_PIN_:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16,0,-16,0,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,16,0,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],playerSide:!0,KING0_INDEX:199,KING1_INDEX:55,wScore:0,bScore:0,markMsgArr:[\"是不是没开显示器？\",\"都说你的技艺忽似三岁孩童，忽似八十老翁，今天一感受果然名不虚传。\",\"你们可别小看了新来的技术员，虽然他有点其貌不扬，但才华出众。\",\"这位技艺精湛的技术员是我们三顾茅庐才请到的，技艺简直可以说是独一无二了。\",\"你就是一个前无古人、后无来者、玉树临风、英俊潇洒的天生奇才。\",\"你的每一刀都很精准，我身上好像有蚂蚁在爬\"],wMarkMsg:\"err\",bMarkMsg:\"err\"}},computed:{playSideStr:function(){return this.playerSide?\"红方\":\"黑方\"}},mounted:function(){},methods:{IN_BOARD:function(s){return 0!==this.IN_BOARD_[s]},COORD_XY:function(s,e){return s+(e<<4)},IN_FORT:function(s){return 0!==this.IN_FORT_[s]},SAME_HALF:function(s,e){return 0==(128&(s^e))},AWAY_HALF:function(s,e){return(128&s)==e<<7},SQUARE_FORWARD:function(s,e){return s-16+(e<<5)},initBoard:function(){this.displayChess=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.playerSide=!0,this.sqSrc=this.sqDest=this.pcSelfSide=this.selectedPos=this.wScore=this.bScore=0,this.wMarkMsg=\"\",this.KING0_INDEX=199,this.KING1_INDEX=55,this.FENtoBoard(this.FEN.split(\"\"));for(var s=0;s<256;s++)this.IN_BOARD(s)||(this.displayChess[s]=null);for(var e=this.COORD_XY(3,3),t=this.COORD_XY(11,12),r=\"\",i=0,a=0,c=e;c<=t;c++)if(this.IN_BOARD(c)){switch(this.displayChess[c]){case 8:r=\"K\";break;case 9:r=\"A\";break;case 10:r=\"B\";break;case 11:r=\"N\";break;case 12:r=\"R\";break;case 13:r=\"C\";break;case 14:r=\"P\";break;case 16:r=\"k_\";break;case 17:r=\"a_\";break;case 18:r=\"b_\";break;case 19:r=\"n_\";break;case 20:r=\"r_\";break;case 21:r=\"c_\";break;case 22:r=\"p_\";break;case 1:case 0:r=\"UNexist\";break;default:r=\"UNexist\"}i=this.RANK_Y(c),this.FILE_X(c),a=c-7*i-30;var h=\"/img/chess/\".concat(r,\".png\");this.imgDomArr[a].src=h,r=\"\",i=0,a=0}},FENtoBoard:function(s){var e=3,t=3;for(var r in s){var i=s[r];if(\"/\"==i&&t++,t>12)break;if(e>11)e=3;else if(i>=\"1\"&&i<=\"9\")e+=parseInt(i);else if(i>=\"a\"&&i<=\"z\"){var a=e+(t<<4);this.displayChess[a]=this.FENCharToNum(i),e++}else if(i>=\"A\"&&i<=\"Z\"){var c=e+(t<<4);this.displayChess[c]=this.FENCharToNum(i),e++}else console.log(\"err\")}},chess1Click:function(s){this.displayChess=s.displayChess,this.manageBoardArray(),this.sq=s.sqSelected;var e=this.displayChess[s.sqSelected],t=this.playerSide&&e>=8&&e<=14,r=!this.playerSide&&e>=16;if(0===this.selectedPos&&(t||r))this.selectedPos=s.sqSelected;else if(0!==this.selectedPos){if(t||r)this.selectedPos=s.sqSelected;else this.sqSrc=this.selectedPos,this.sqDest=s.sqSelected,this.judgeMove(this.displayChess[this.sqSrc],this.sqSrc,this.sqDest)&&(8===this.displayChess[this.sqDest]?($(\"div.tipBox2\").attr(\"style\",\"display: flex;\"),this.bScore+=40,this.markBoard()):16===this.displayChess[this.sqDest]?($(\"div.tipBox2\").attr(\"style\",\"display: flex;\"),this.wScore+=40,this.markBoard()):(8&this.displayChess[this.sqDest]?this.bScore+=10:16&this.displayChess[this.sqDest]&&(this.wScore+=10),this.$set(this.displayChess,this.sqDest,this.displayChess[this.sqSrc]),this.$set(this.displayChess,this.sqSrc,1),this.playerSide=!this.playerSide))}this.judgeKtoK()},drawWithFEN:function(){for(var s=this.COORD_XY(3,3),e=this.COORD_XY(11,12),t=document.querySelectorAll(\"div.imgBox img\"),r=\"\",i=0,a=0,c=s;c<=e;c++)if(this.IN_BOARD(c)){switch(this.displayChess[c]){case 8:r=\"K\";break;case 9:r=\"A\";break;case 10:r=\"B\";break;case 11:r=\"N\";break;case 12:r=\"R\";break;case 13:r=\"C\";break;case 14:r=\"P\";break;case 16:r=\"k_\";break;case 17:r=\"a_\";break;case 18:r=\"b_\";break;case 19:r=\"n_\";break;case 20:r=\"r_\";break;case 21:r=\"c_\";break;case 22:r=\"p_\";break;case 1:case 0:r=\"UNexist\";break;default:r=\"UNexist\"}i=this.RANK_Y(c),this.FILE_X(c),a=c-7*i-30;var h=\"/img/chess/\".concat(r,\".png\");t[a].src=h,r=\"\",i=0,a=0}},FENCharToNum:function(s){switch(s){case\"K\":return 8;case\"A\":return 9;case\"B\":return 10;case\"N\":return 11;case\"R\":return 12;case\"C\":return 13;case\"P\":return 14;case\"k\":return 16;case\"a\":return 17;case\"b\":return 18;case\"n\":return 19;case\"r\":return 20;case\"c\":return 21;case\"p\":return 22;default:return 1}},judgeMove:function(s,e,t){this.playerSide?this.pcSelfSide=8:this.pcSelfSide=16;var r=s-this.pcSelfSide,i=t-e;if(r===this.pieceNumber.king)return t>128?this.KING0_INDEX=t:t<128&&(this.KING1_INDEX=t),(-16===i||16===i||1===i||-1===i)&&this.IN_FORT(t);if(r===this.pieceNumber.advisor)return(-17===i||17===i||-15===i||15===i)&&this.IN_FORT(t);if(r===this.pieceNumber.bishop)return(-34===i||34===i||-30===i||30===i)&&this.SAME_HALF(e,t)&&1===this.displayChess[Math.floor((e+t)/2)];if(r===this.pieceNumber.knight){var a=e+this.KNIGHT_PIN_[t-e+256];return(-33===i||33===i||-18===i||18===i||-14===i||14===i||-31===i||31===i)&&1===this.displayChess[a]}if(r===this.pieceNumber.rook){var c=!1;if(i>0){if(i%16==0)for(var h=e+16;h<t;){if(this.displayChess[h]>=8){c=!0;break}h+=16}else for(var n=e+1;n<t;n++)if(this.displayChess[n]>=8){c=!0;break}}else if(i<0)if(Math.abs(i)%16==0)for(var o=e-16;o>t;){if(this.displayChess[o]>=8){c=!0;break}o-=16}else for(var l=e-1;l>t;l--)if(this.displayChess[l]>=8){c=!0;break}return(this.RANK_Y(e)===this.RANK_Y(t)||this.FILE_X(e)===this.FILE_X(t))&&!c}if(r===this.pieceNumber.cannon){var u=0;if(Math.abs(i)%16==0){if(i>0)for(var d=e+16;d<t&&!(this.displayChess[d]>=8&&(!0,++u>1));)d+=16;else if(i<0)for(var _=e-16;_>t&&!(this.displayChess[_]>=8&&(!0,++u>1));)_-=16}else if(i>0)for(var p=e+1;p<t&&(this.displayChess[p]>=8&&u++,!(u>1));p++);else for(var f=e-1;f>t&&(this.displayChess[f]>=8&&u++,!(u>1));f--);var b=!1;return this.playerSide?16&this.displayChess[t]&&(b=!0):8&this.displayChess[t]&&(b=!0),(this.RANK_Y(e)===this.RANK_Y(t)||this.FILE_X(e)===this.FILE_X(t))&&(1===u&&b||0===u)}if(r===this.pieceNumber.pawn){var k,N=!1,C=!1;return 16===this.pcSelfSide?(k=1,16===i&&(C=!0)):8===this.pcSelfSide&&(k=0,-16===i&&(C=!0)),this.AWAY_HALF(t,k)&&1===Math.abs(i)&&(N=!0),C||N}console.log(\"走法不合法或点击了空白处\")},judgeKtoK:function(){for(var s=!1,e=this.KING1_INDEX+16;e<=this.KING0_INDEX-16;){if(this.displayChess[e]>=8){s=!0;break}e+=16}this.FILE_X(this.KING0_INDEX)!==this.FILE_X(this.KING1_INDEX)||s||(this.playerSide?this.wScore+=40:this.bScore+=40,this.markBoard(),$(\"div.tipBox2\").attr(\"style\",\"display: flex;\"))},isHaveSelfPc:function(s,e){return this.pcSelfSide=!1&s?16:8,console.log(this.displayChess[e]&this.pcSelfSide),this.displayChess[e]&this.pcSelfSide},RANK_Y:function(s){return s>>4},FILE_X:function(s){return 15&s},manageBoardArray:function(){for(var s=0;s<256;s++)(void 0===this.displayChess[s]||this.displayChess[s]<8)&&this.IN_BOARD_[s]&&(this.displayChess[s]=1)},winSure:function(){$(\"div.tipBox2\").attr(\"style\",\"display: none;\"),this.initBoard()},markBoard:function(){var s=this.wScore;this.wMarkMsg=s<=20?this.markMsgArr[0]:s<=30?this.markMsgArr[1]:s<=40?this.markMsgArr[2]:s<=50?this.markMsgArr[3]:s<=60?this.markMsgArr[4]:s>60?this.markMsgArr[5]:\"暂无评分\";var e=this.bScore;e<=20?this.bMarkMsg=this.markMsgArr[0]:e<=30?this.bMarkMsg=this.markMsgArr[1]:e<=40?this.bMarkMsg=this.markMsgArr[2]:e<=50?this.bMarkMsg=this.markMsgArr[3]:e<=60?this.bMarkMsg=this.markMsgArr[4]:e>60?this.bMarkMsg=this.markMsgArr[5]:this.wMarkMsg=\"暂无评分\"},btnClick:function(){console.log(-0)}}},i=(t(646),t(3)),a=Object(i.a)(r,(function(){var s=this,e=s.$createElement,t=s._self._c||e;return t(\"div\",{staticClass:\"totalBox\"},[t(\"div\",{staticClass:\"tipBox css2ebd875383243b7\"},[s._v(\"走棋方：\\n    \"),t(\"span\",{staticClass:\"css2ebd875383243b7\",style:s.playerSide?\"color: #c40a01\":\"color: black\"},[s._v(\"\\n      \"+s._s(this.playSideStr)+\"\\n    \")])]),s._v(\" \"),t(\"div\",{staticClass:\"tipBox2\"},[t(\"div\",{staticClass:\"winMsg\"},[s._v(s._s(this.playSideStr)+\"胜利！\")]),s._v(\" \"),t(\"div\",{staticClass:\"scoreBox\"},[t(\"div\",{staticClass:\"wScore\"},[s._v(\"红方得分：\"+s._s(this.wScore))]),s._v(\" \"),t(\"div\",{staticClass:\"bScore\"},[s._v(\"黑方得分：\"+s._s(this.bScore))]),s._v(\" \"),t(\"br\"),s._v(\" \"),t(\"div\",{staticClass:\"commentBox\"},[t(\"div\",[s._v(\"红方得到的评语：\"+s._s(this.wMarkMsg))]),s._v(\" \"),t(\"div\",[s._v(\"黑方得到的评语：\"+s._s(this.bMarkMsg))])])]),s._v(\" \"),t(\"div\",{staticClass:\"btnBox\"},[t(\"button\",{staticClass:\"f1\",on:{click:s.winSure}},[s._v(\"重开！\")])])]),s._v(\" \"),t(\"button\",{staticClass:\"f1\",on:{click:s.initBoard}},[s._v(\"remake\")]),s._v(\" \"),t(\"chess1\",{attrs:{displayChess:s.displayChess},on:{show:s.chess1Click}})],1)}),[],!1,null,\"4509e988\",null);e.default=a.exports}}]);","extractedComments":[]}