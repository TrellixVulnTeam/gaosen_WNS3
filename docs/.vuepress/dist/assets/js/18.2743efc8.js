(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{524:function(e,s,r){},528:function(e,s,r){"use strict";r(524)},574:function(e,s,r){"use strict";r.r(s);r(50),r(6),r(51),r(49),r(270),r(12),r(271),r(511);var a={name:"Chess",props:{displayChess:{type:Array,default:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},data:function(){return{test:[],IN_BOARD_:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],displayChessTemp:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],FEN:"rnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR",FENArray:[],userInputFEN:"",userInput:"",sqSelected:0,currentChess:""}},computed:{imgDomArr:function(){return document.querySelectorAll("div.imgBox img")}},watch:{displayChess:{handler:function(e,s){this.displayChessTemp=e;for(var r=this.COORD_XY(3,3),a=this.COORD_XY(11,12),t="",c=0,i=0,n=r;n<=a;n++)if(this.IN_BOARD(n)){switch(e[n]){case 8:t="K";break;case 9:t="A";break;case 10:t="B";break;case 11:t="N";break;case 12:t="R";break;case 13:t="C";break;case 14:t="P";break;case 16:t="k_";break;case 17:t="a_";break;case 18:t="b_";break;case 19:t="n_";break;case 20:t="r_";break;case 21:t="c_";break;case 22:t="p_";break;case 1:case 0:t="UNexist";break;default:t="UNexist"}c=this.RANK_Y(n),this.FILE_X(n),i=n-7*c-30;var u="/img/chess/".concat(t,".png");this.imgDomArr[i].src=u,t="",c=0,i=0}}}},mounted:function(){var e=this;this.initBoard(),document.querySelectorAll("div.imgBox img").forEach((function(s,r){s.addEventListener("mousedown",(function(s,r){var a=s.target.src.slice(32,33),t=(e.ImgNameToChessName(a),parseInt(s.target.id.slice(3))+1),c={displayChess:e.displayChessTemp,fileName:a,imgIndex:t,sqSelected:e.imgIndexToSq(t)};e.chess1Click(c)}))}))},methods:{IN_BOARD:function(e){return 0!==this.IN_BOARD_[e]},COORD_XY:function(e,s){return e+(s<<4)},RANK_Y:function(e){return e>>4},FILE_X:function(e){return 15&e},initBoard:function(){this.displayChessTemp=[],this.FENArray=this.FEN.split(""),this.FENtoBoard(this.FENArray);for(var e=0;e<256;e++)this.IN_BOARD(e)||(this.displayChessTemp[e]=null);for(var s=this.COORD_XY(3,3),r=this.COORD_XY(11,12),a="",t=0,c=0,i=s;i<=r;i++)if(this.IN_BOARD(i)){switch(this.displayChessTemp[i]){case 8:a="K";break;case 9:a="A";break;case 10:a="B";break;case 11:a="N";break;case 12:a="R";break;case 13:a="C";break;case 14:a="P";break;case 16:a="k_";break;case 17:a="a_";break;case 18:a="b_";break;case 19:a="n_";break;case 20:a="r_";break;case 21:a="c_";break;case 22:a="p_";break;case 1:case 0:a="UNexist";break;default:a="UNexist"}t=this.RANK_Y(i),this.FILE_X(i),c=i-7*t-30;var n="/img/chess/".concat(a,".png");this.imgDomArr[c].src=n,a="",t=0,c=0}},FENtoBoard:function(e){var s=3,r=3;for(var a in e){var t=e[a];if("/"==t&&r++,r>12)break;if(s>11)s=3;else if(t>="1"&&t<="9")s+=parseInt(t);else if(t>="a"&&t<="z"){var c=s+(r<<4);this.displayChessTemp[c]=this.FENCharToNum(t),s++}else if(t>="A"&&t<="Z"){var i=s+(r<<4);this.displayChessTemp[i]=this.FENCharToNum(t),s++}else console.log("err")}},FENCharToNum:function(e){switch(e){case"K":return 8;case"A":return 9;case"B":return 10;case"N":return 11;case"R":return 12;case"C":return 13;case"P":return 14;case"k":return 16;case"a":return 17;case"b":return 18;case"n":return 19;case"r":return 20;case"c":return 21;case"p":return 22;default:return"err"}},FENCharToImg:function(e){switch(e){case"K":return"K";case"A":return"A";case"B":return"B";case"N":return"N";case"R":return"R";case"C":return"C";case"P":return"P";case"k":return"k_";case"a":return"a_";case"b":return"b_";case"n":return"n_";case"r":return"r_";case"c":return"c_";case"p":return"p_";default:return"err"}},ImgNameToChessName:function(e){switch(e){case"K":return"红方_帅";case"A":return"红方_士";case"B":return"红方_相";case"N":return"红方_马";case"R":return"红方_车";case"C":return"红方_炮";case"P":return"红方_兵";case"k":return"黑方_将";case"a":return"黑方_仕";case"b":return"黑方_象";case"n":return"黑方_马";case"r":return"黑方_车";case"c":return"黑方_炮";case"p":return"黑方_卒";default:return"空"}},drawWithFEN:function(e){this.FENArray=[],this.FENArray=e.split(""),this.displayChessTemp=[],this.FENtoBoard(this.FENArray);for(var s=0;s<256;s++)this.IN_BOARD(s)||(this.displayChessTemp[s]=null);for(var r=this.COORD_XY(3,3),a=this.COORD_XY(11,12),t="",c=0,i=0,n=r;n<=a;n++)if(this.IN_BOARD(n)){switch(this.displayChessTemp[n]){case 8:t="K";break;case 9:t="A";break;case 10:t="B";break;case 11:t="N";break;case 12:t="R";break;case 13:t="C";break;case 14:t="P";break;case 16:t="k_";break;case 17:t="a_";break;case 18:t="b_";break;case 19:t="n_";break;case 20:t="r_";break;case 21:t="c_";break;case 22:t="p_";break;case 1:case 0:t="UNexist";break;default:t="UNexist"}c=this.RANK_Y(n),this.FILE_X(n),i=n-7*c-30;var u="/img/chess/".concat(t,".png");this.imgDomArr[i].src=u,t="",c=0,i=0}},imgIndexToSq:function(e){return e+30+7*(Math.floor((e-1)/9)+3)-1},sureInput:function(){var e=this.userInput;this.drawWithFEN(e)},test2:function(){this.drawWithFEN("1n1akabnr/r8/9/9/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR")},btnClick2:function(){this.test2()},chess1Click:function(e){this.$emit("show",e)}}},t=(r(528),r(3)),c=Object(t.a)(a,(function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("div",[r("div",{staticClass:"chessBoard"},[e._l(90,(function(s,a){return r("div",{staticClass:"imgBox myImgBox"},[r("img",{key:a,attrs:{src:e.$withBase("/img/chess/K_.png"),id:"pos"+a,alt:"一个棋子"}})])})),e._v(" "),e._m(0)],2)])}),[function(){var e=this.$createElement,s=this._self._c||e;return s("div",{staticClass:"myFontBox"},[s("div",{staticClass:"css2ebd673af7243b7"},[this._v("楚河")]),this._v(" "),s("div",{staticClass:"css2ebd673af7243b7"},[this._v("汉界")])])}],!1,null,"2e112baf",null);s.default=c.exports}}]);